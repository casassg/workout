{{ define "main" }}
<div class="mb-6">
  <h1 class="text-2xl font-bold mb-2">Exercise Library</h1>
  <p class="text-dark-muted">All exercises organized by muscle group. Click to expand details.</p>
</div>

<!-- Filter Tabs -->
<div class="flex flex-wrap gap-2 mb-6">
  <button class="btn-primary exercise-filter active" data-filter="all">All</button>
  <button class="btn-secondary exercise-filter" data-filter="push">Push</button>
  <button class="btn-secondary exercise-filter" data-filter="pull">Pull</button>
  <button class="btn-secondary exercise-filter" data-filter="legs">Legs</button>
  <button class="btn-secondary exercise-filter" data-filter="abs">Abs</button>
</div>

<!-- Push Exercises -->
<div class="exercise-section mb-8" data-category="push">
  <h2 class="section-title">
    <span>ğŸ‹ï¸</span>
    {{ .Site.Data.exercises.push.category }} - {{ .Site.Data.exercises.push.description }}
  </h2>
  <div class="grid gap-4">
    {{ range .Site.Data.exercises.push.exercises }}
    <div class="exercise-card">
      <div class="flex items-start justify-between">
        <div>
          <h3 class="card-title">{{ .name }}</h3>
          <div class="flex flex-wrap gap-2 mt-1">
            <span class="badge badge-muscle">{{ .muscle }}</span>
            <span class="badge badge-equipment">{{ .equipment }}</span>
          </div>
        </div>
        <div class="text-right text-sm text-dark-muted">
          <div>{{ .sets }} sets</div>
          <div>{{ .reps }} reps</div>
        </div>
      </div>
      {{ if .notes }}
      <p class="text-sm text-dark-muted mt-2">{{ .notes }}</p>
      {{ end }}
      {{ if .alternatives }}
      <div class="mt-3 pt-3 border-t border-dark-border">
        <p class="text-xs text-dark-muted mb-2">Alternatives:</p>
        <div class="flex flex-wrap gap-2">
          {{ range .alternatives }}
          <span class="text-xs bg-dark-bg px-2 py-1 rounded">{{ .name }}</span>
          {{ end }}
        </div>
      </div>
      {{ end }}
    </div>
    {{ end }}
  </div>
</div>

<!-- Pull Exercises -->
<div class="exercise-section mb-8" data-category="pull">
  <h2 class="section-title">
    <span>ğŸ‹ï¸</span>
    {{ .Site.Data.exercises.pull.category }} - {{ .Site.Data.exercises.pull.description }}
  </h2>
  <div class="grid gap-4">
    {{ range .Site.Data.exercises.pull.exercises }}
    <div class="exercise-card">
      <div class="flex items-start justify-between">
        <div>
          <h3 class="card-title">{{ .name }}</h3>
          <div class="flex flex-wrap gap-2 mt-1">
            <span class="badge badge-muscle">{{ .muscle }}</span>
            <span class="badge badge-equipment">{{ .equipment }}</span>
          </div>
        </div>
        <div class="text-right text-sm text-dark-muted">
          <div>{{ .sets }} sets</div>
          <div>{{ .reps }} reps</div>
        </div>
      </div>
      {{ if .notes }}
      <p class="text-sm text-dark-muted mt-2">{{ .notes }}</p>
      {{ end }}
      {{ if .alternatives }}
      <div class="mt-3 pt-3 border-t border-dark-border">
        <p class="text-xs text-dark-muted mb-2">Alternatives:</p>
        <div class="flex flex-wrap gap-2">
          {{ range .alternatives }}
          <span class="text-xs bg-dark-bg px-2 py-1 rounded">{{ .name }}</span>
          {{ end }}
        </div>
      </div>
      {{ end }}
    </div>
    {{ end }}
  </div>
</div>

<!-- Legs Exercises -->
<div class="exercise-section mb-8" data-category="legs">
  <h2 class="section-title">
    <span>ğŸ¦µ</span>
    {{ .Site.Data.exercises.legs.category }} - {{ .Site.Data.exercises.legs.description }}
  </h2>
  <div class="grid gap-4">
    {{ range .Site.Data.exercises.legs.exercises }}
    <div class="exercise-card">
      <div class="flex items-start justify-between">
        <div>
          <h3 class="card-title">{{ .name }}</h3>
          <div class="flex flex-wrap gap-2 mt-1">
            <span class="badge badge-muscle">{{ .muscle }}</span>
            <span class="badge badge-equipment">{{ .equipment }}</span>
          </div>
        </div>
        <div class="text-right text-sm text-dark-muted">
          <div>{{ .sets }} sets</div>
          <div>{{ .reps }} reps</div>
        </div>
      </div>
      {{ if .notes }}
      <p class="text-sm text-dark-muted mt-2">{{ .notes }}</p>
      {{ end }}
      {{ if .alternatives }}
      <div class="mt-3 pt-3 border-t border-dark-border">
        <p class="text-xs text-dark-muted mb-2">Alternatives:</p>
        <div class="flex flex-wrap gap-2">
          {{ range .alternatives }}
          <span class="text-xs bg-dark-bg px-2 py-1 rounded">{{ .name }}</span>
          {{ end }}
        </div>
      </div>
      {{ end }}
    </div>
    {{ end }}
  </div>
</div>

<!-- Abs Exercises -->
<div class="exercise-section mb-8" data-category="abs">
  <h2 class="section-title">
    <span>ğŸ¯</span>
    {{ .Site.Data.exercises.abs.category }} - {{ .Site.Data.exercises.abs.description }}
  </h2>
  <div class="grid gap-4">
    {{ range .Site.Data.exercises.abs.exercises }}
    <div class="exercise-card">
      <div class="flex items-start justify-between">
        <div>
          <h3 class="card-title">{{ .name }}</h3>
          <div class="flex flex-wrap gap-2 mt-1">
            <span class="badge badge-muscle">{{ .muscle }}</span>
            <span class="badge badge-equipment">{{ .equipment }}</span>
          </div>
        </div>
        <div class="text-right text-sm text-dark-muted">
          <div>{{ .sets }} sets</div>
          <div>{{ .reps }} reps</div>
        </div>
      </div>
      {{ if .notes }}
      <p class="text-sm text-dark-muted mt-2">{{ .notes }}</p>
      {{ end }}
      {{ if .alternatives }}
      <div class="mt-3 pt-3 border-t border-dark-border">
        <p class="text-xs text-dark-muted mb-2">Alternatives:</p>
        <div class="flex flex-wrap gap-2">
          {{ range .alternatives }}
          <span class="text-xs bg-dark-bg px-2 py-1 rounded">{{ .name }}</span>
          {{ end }}
        </div>
      </div>
      {{ end }}
    </div>
    {{ end }}
  </div>
</div>

<script>
document.addEventListener('DOMContentLoaded', function() {
  const filters = document.querySelectorAll('.exercise-filter');
  const sections = document.querySelectorAll('.exercise-section');
  
  filters.forEach(filter => {
    filter.addEventListener('click', function() {
      const category = this.dataset.filter;
      
      // Update active button
      filters.forEach(f => {
        f.classList.remove('btn-primary');
        f.classList.add('btn-secondary');
      });
      this.classList.remove('btn-secondary');
      this.classList.add('btn-primary');
      
      // Filter sections
      sections.forEach(section => {
        if (category === 'all' || section.dataset.category === category) {
          section.style.display = '';
        } else {
          section.style.display = 'none';
        }
      });
    });
  });
});
</script>
{{ end }}
